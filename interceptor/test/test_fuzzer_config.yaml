default_compiler: &compiler
  add_arguments:
  - "-g"
  - "-fsanitize=address,undefined,signed-integer-overflow"
  - "-fsanitize-coverage=edge,indirect-calls,trace-pc-guard,trace-cmp"
  - "-fno-omit-frame-pointer"
  remove_arguments:
  - "-O0"
  - "-O1"
  - "-O3"
  - "-fomit-frame-pointer"

my-fuzzer:
  toolchain:
    cc:
      <<: *compiler
      match: "DEFAULT_CC"
      replace: "my-cc-fuzzer"

    cxx:
      <<: *compiler
      match: "DEFAULT_CXX"
      replace: "my-c++-fuzzer"
